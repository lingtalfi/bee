(function(e){if("undefined"===typeof window.ajaxTim){function t(t,n){var r=n.errorMode;var i=n.onErrorBefore;if("function"===typeof i){i(t)}if("dialog"===r&&"dialogg"in e.fn){var s=e("<div>"+t+"</div>");e("body").append(s);s.dialogg({title:"Error",modal:true,close:function(e){s.dialogg("destroy")}})}else if("dialog"===r&&false==="dialogg"in e.fn||"alert"===r){alert(t)}else if("exception"===r){throw new Error(t)}else if("log"===r){console.log(t)}else{throw new Error("Unknown errorMode: "+r)}}function n(e,n,r){if(e){if("t"in e){if("m"in e){if("s"===e.t){n(e.m)}else{t(e.m,r)}}else{t("Invalid ajaxTim service: variable m not found in the response",r)}}else{t("Invalid ajaxTim service: variable t not found in the response",r)}}else{t("The service response is empty",r)}}window.ajaxTim=function(){};ajaxTim.sendMessage=function(r,i,s,o){o=e.extend({errorMode:"dialog",onErrorBefore:function(e){},method:"post"},o);if("post"===o.method){e.post(r,i,function(e){n(e,s,o)},"json").fail(function(){t("The ajax request failed",o)})}else if("get"===o.method){e.get(r,i,function(e){n(e,s,o)},"json").fail(function(){t("The ajax request failed",o)})}else{throw new Error("Unknown method: "+o.method)}}}})(jQuery)