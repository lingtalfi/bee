(function(e){function t(e,t){e="easyDownloadCounter error: "+e;if("alert"===t){alert(e)}else{console.log(e)}}e.fn.easyDownloadCounter=function(){var n=Array.prototype.slice.apply(arguments);var r=e.fn.easyDownloadCounter.settings.errorMode;var i=n[0];var s=e.extend({},e.fn.easyDownloadCounter.defaults,i);if(null===s.serviceUrl){t("Please defined the serviceUrl option first",r);return}return this.each(function(){e(this).on("mousedown",function(n){var i=e(this).attr("data-edc-id");if(undefined===i){i=s.identifier}if(null!==i){e.post(e.fn.easyDownloadCounter.settings.serviceUrl,{edcId:i},function(e){if("ok"===e){}else{t(e)}})}else{t("no identifier found for the clicked element",r)}var u=e("[data-edc-counter="+i+"]");if(u.length){var a=u.html();a=parseInt(a);a++;u.html(a)}})})};e.fn.easyDownloadCounter.defaults={};e.fn.easyDownloadCounter.settings={serviceUrl:"/service/edc-service.php",errorMode:"alert"};e(document).ready(function(){var t=e.fn.easyDownloadCounter.settings.serviceUrl;var n={};var r=[];e("[data-edc-counter]").each(function(){var t=e(this).attr("data-edc-counter");n[t]=e(this);r.push(t)});e.post(t,{edcCptIds:r},function(e){for(var t in e){var r=e[t];if(null===r){r=0}n[t].html(r)}},"json")})})(jQuery)