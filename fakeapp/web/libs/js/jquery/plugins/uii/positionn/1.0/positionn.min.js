(function(e){function p(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function d(t,n){return parseInt(e.css(t,n),10)||0}function v(t){var n=t[0];if(n.nodeType===9){return{width:t.width(),height:t.height(),offset:{top:0,left:0}}}if(e.isWindow(n)){return{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}}if(n.preventDefault){return{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}}return{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var t,n,r=Math.max,i=Math.abs,s=Math.round,o=/left|center|right/,u=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,l=/%$/,c=e.fn.position;var h={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,u=i-o,a=o+t.collisionWidth-s-i,f;if(t.collisionWidth>s){if(u>0&&a<=0){f=e.left+u+t.collisionWidth-s-i;e.left+=u-f}else if(a>0&&u<=0){e.left=i}else{if(u>a){e.left=i+s-t.collisionWidth}else{e.left=i}}}else if(u>0){e.left+=u}else if(a>0){e.left-=a}else{e.left=r(e.left-o,e.left)}},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=i-o,a=o+t.collisionHeight-s-i,f;if(t.collisionHeight>s){if(u>0&&a<=0){f=e.top+u+t.collisionHeight-s-i;e.top+=u-f}else if(a>0&&u<=0){e.top=i}else{if(u>a){e.top=i+s-t.collisionHeight}else{e.top=i}}}else if(u>0){e.top+=u}else if(a>0){e.top-=a}else{e.top=r(e.top-o,e.top)}}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,s=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-s-o,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-s-r;if(p<0||p<i(a)){e.left+=l+c+h}}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-o;if(d>0||i(d)<f){e.left+=l+c+h}}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,s=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-s-o,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;if(a<0){v=e.top+c+h+p+t.collisionHeight-s-r;if(e.top+c+h+p>a&&(v<0||v<i(a))){e.top+=c+h+p}}else if(f>0){d=e.top-t.collisionPosition.marginTop+c+h+p-o;if(e.top+c+h+p>f&&(d>0||i(d)<f)){e.top+=c+h+p}}}},flipfit:{left:function(){h.flip.left.apply(this,arguments);h.fit.left.apply(this,arguments)},top:function(){h.flip.top.apply(this,arguments);h.fit.top.apply(this,arguments)}},scrollbarWidth:function(){if(t!==undefined){return t}var n,r,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=i.children()[0];e("body").append(i);n=s.offsetWidth;i.css("overflow","scroll");r=s.offsetWidth;if(n===r){r=i[0].clientWidth}i.remove();return t=n-r},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r=t==="scroll"||t==="auto"&&e.width<e.element[0].scrollWidth,i=n==="scroll"||n==="auto"&&e.height<e.element[0].scrollHeight;return{width:i?h.scrollbarWidth():0,height:r?h.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),i=!!n[0]&&n[0].nodeType===9;return{element:n,isWindow:r,isDocument:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r||i?n.width():n.outerWidth(),height:r||i?n.height():n.outerHeight()}}};e.fn.positionn=function(t){if(!t||!t.of){return c.apply(this,arguments)}t=e.extend({},t);var l,m,g,y,b,w,E=e(t.of),S=h.getWithinInfo(t.within),x=h.getScrollInfo(S),T=(t.collision||"flip").split(" "),N={};w=v(E);if(E[0].preventDefault){t.at="left top"}m=w.width;g=w.height;y=w.offset;b=e.extend({},y);e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,r;if(e.length===1){e=o.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]}e[0]=o.test(e[0])?e[0]:"center";e[1]=u.test(e[1])?e[1]:"center";n=a.exec(e[0]);r=a.exec(e[1]);N[this]=[n?n[0]:0,r?r[0]:0];t[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]});if(T.length===1){T[1]=T[0]}if(t.at[0]==="right"){b.left+=m}else if(t.at[0]==="center"){b.left+=m/2}if(t.at[1]==="bottom"){b.top+=g}else if(t.at[1]==="center"){b.top+=g/2}l=p(N.at,m,g);b.left+=l[0];b.top+=l[1];return this.each(function(){var o,u,a=e(this),f=a.outerWidth(),c=a.outerHeight(),v=d(this,"marginLeft"),w=d(this,"marginTop"),C=f+v+d(this,"marginRight")+x.width,k=c+w+d(this,"marginBottom")+x.height,L=e.extend({},b),A=p(N.my,a.outerWidth(),a.outerHeight());if(t.my[0]==="right"){L.left-=f}else if(t.my[0]==="center"){L.left-=f/2}if(t.my[1]==="bottom"){L.top-=c}else if(t.my[1]==="center"){L.top-=c/2}L.left+=A[0];L.top+=A[1];if(!n){L.left=s(L.left);L.top=s(L.top)}o={marginLeft:v,marginTop:w};e.each(["left","top"],function(e,n){if(h[T[e]]){h[T[e]][n](L,{targetWidth:m,targetHeight:g,elemWidth:f,elemHeight:c,collisionPosition:o,collisionWidth:C,collisionHeight:k,offset:[l[0]+A[0],l[1]+A[1]],my:t.my,at:t.at,within:S,elem:a})}});if(t.using){u=function(e){var n=y.left-L.left,s=n+m-f,o=y.top-L.top,u=o+g-c,l={target:{element:E,left:y.left,top:y.top,width:m,height:g},element:{element:a,left:L.left,top:L.top,width:f,height:c},horizontal:s<0?"left":n>0?"right":"center",vertical:u<0?"top":o>0?"bottom":"middle"};if(m<f&&i(n+s)<m){l.horizontal="center"}if(g<c&&i(o+u)<g){l.vertical="middle"}if(r(i(n),i(s))>r(i(o),i(u))){l.important="horizontal"}else{l.important="vertical"}t.using.call(this,e,l)}}a.offset(e.extend(L,{using:u}))})};(function(){var t,r,i,s,o,u=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(u?"div":"body");i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(u){e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"})}for(o in i){t.style[o]=i[o]}t.appendChild(a);r=u||document.documentElement;r.insertBefore(t,r.firstChild);a.style.cssText="position: absolute; left: 10.7432222px;";s=e(a).offset().left;n=s>10&&s<11;t.innerHTML="";r.removeChild(t)})()})(jQuery);